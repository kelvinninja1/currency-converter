var KK = {};var KK = {	currencyRatesObject: {		"BGN": "Български лев",		"EUR": "Евро",		"USD": "Американски долар",		"JPY": "Японската йена",		"GBP": "Британската лира",		"CHF": "Швейцарски франк",		"AUD": "Австралийски долар",		"CAD": "Канадски долар",		"SEK": "Шведска крона",		"HKD": "Хонгконгски долар",		"NOK": "Норвежка крона",		"AED": "Обединените арабски емирства дирхам",		"AFN": "Афганистански афган",		"ALL": "Албански лек",		"AMD": "Арменски драм",		"ANG": "Холандски Антилски гулден",		"AOA": "Анголска кванза",		"ARS": "Аржентинско песо",		"AWG": "Арубски флорин",		"AZN": "Азербайджански манат",		"BAM": "Босна и Херцеговина - Конвертабилна марка",		"BBD": "Барбейдоски долар",		"BDT": "Бангладешска така",		"BHD": "Бахрейнски динар",		"BIF": "Бурундийски франк",		"BMD": "Бермудски долар",		"BND": "Брунейски долар",		"BOB": "Боливийско боливиано",		"BRL": "Бразилски реал",		"BSD": "Бахамски долар",		"BTN": "Бутански нгултрум",		"BWP": "Ботсванска пула",		"BYR": "Беларуска рубла",		"BZD": "Белизийски долар",		"CDF": "Конгоански франк",		"CLF": "Чилийска единица (UF)",		"CLP": "Чилийско песо",		"CNY": "Китайски ренминби юан",		"COP": "Колумбийско песо",		"CRC": "Костарикански колон",		"CUP": "Кубинско песо",		"CVE": "Кабоверденско ескудо",		"CZK": "Чешка крона",		"DJF": "Джибутски франк",		"DKK": "Датска крона",		"DOP": "Доминиканско песо",		"DZD": "Алжирски динар",		"EGP": "Египетска лира",		"ETB": "Етиопски бир",		"FJD": "Фиджийски долар",		"FKP": "Фолкландска лира",		"GEL": "Грузинска лари",		"GHS": "Ганайски седи",		"GIP": "Гибралтарска лира",		"GMD": "Гамбийски даласи",		"GNF": "Гвинейски франк",		"GTQ": "Гватемалски кетцал",		"GYD": "Гаянски долар",		"HNL": "Хондураска лемпра",		"HRK": "Хърватска куна",		"HTG": "Хаитянски гурд",		"HUF": "Унгарски форинт",		"IDR": "Индонезийска рупия",		"ILS": "Израелски шекел",		"INR": "Индийска рупия",		"IQD": "Иракски динар",		"IRR": "Ирански риал",		"ISK": "Исландска крона",		"JMD": "Ямайски долар",		"JOD": "Йордански динар",		"KES": "Кенийски шилинг",		"KGS": "Киргизстански сум",		"KHR": "Камбоджански риел",		"KMF": "Коморийски франк",		"KPW": "Севернокорейски вон",		"KRW": "Южнокорейски вон",		"KWD": "Кувейтски динар",		"KZT": "Казахстанско тенге",		"LAK": "Лаоски кип",		"LBP": "Ливанска лира",		"LKR": "Шриланкска рупия",		"LRD": "Либерийски долар",		"LSL": "Лесотско лоти",		"LTL": "Литовски литас",		"LVL": "Латвийски лат",		"LYD": "Либийски динар",		"MAD": "Марококански дирхам",		"MDL": "Молдовска лея",		"MGA": "Малагасийски ариари",		"MKD": "Македонски денар",		"MMK": "Мианмарски киат",		"MNT": "Монголски тугриг",		"MOP": "Макайска патака",		"MRO": "Мавританска угуйа",		"MUR": "Мавританска рупия",		"MVR": "Малдивска руфия",		"MWK": "Малавийска кауача",		"MXN": "Мексиканско песо",		"MYR": "Малайзийски рингит",		"MZN": "Мозамбикски метикал",		"NAD": "Намибийски долар",		"NGN": "Нигерийска найра",		"NIO": "Никарагска кордоба",		"NPR": "Непалски рупей",		"NZD": "Новозеландски долар",		"OMR": "Омански риал",		"PAB": "Панамска балбоа",		"PEN": "Нов перуански сол",		"PGK": "Папуа-новогвинейска кина",		"PHP": "Филипинско песо",		"PKR": "Пакистанска рупия",		"PLN": "Полска злота",		"PYG": "Парагвайски гуарани",		"QAR": "Катарски риал",		"RON": "Румънска лея",		"RSD": "Сръбски динар",		"RUB": "Руска рубла",		"RWF": "Руандийски франк",		"SAR": "Саудитски риал",		"SBD": "Соломоновски долар",		"SCR": "Сейшелска рупия",		"SDG": "Суданска лира",		"SGD": "Сингапурски долар",		"SHP": "Паунд на остров Света Елена",		"SLL": "Сиералеонско леоне",		"SOS": "Сомалийски шилинг",		"SRD": "Суринамски долар",		"STD": "Сао Томе и Принсиписко добра",		"SVC": "Ел Салвадорски колон",		"SYP": "Сирийска лира",		"SZL": "Свазилендски лилангени",		"THB": "Тайландски бат",		"TJS": "Таджикски сомони",		"TMT": "Туркменски манат",		"TND": "Тунизийски динар",		"TOP": "Тонганска паанга",		"TRY": "Турска лира",		"TTD": "Тринидадски долар",		"TWD": "Нов Тайвански долар",		"TZS": "Танзанийски шилинг",		"UAH": "Украинска гривна",		"UGX": "Угандийски шилинг",		"UYU": "Уругвайско песо",		"UZS": "Узбекистански Сум",		"VEF": "Венецуелски боливар",		"VND": "Виетнамски донг",		"VUV": "Вануатуанско вату",		"WST": "Самоанска тала",		"XAF": "Централноафрикански франк",		"XCD": "Източно Карибски долар",		"XDR": "Специални права на тираж",		"XOF": "Западно Африкански франк",		"XPF": "Френски тихоокеански франк",		"YER": "Йеменски риал",		"ZAR": "Южноафрикански ранд",		"ZMK": "Замбийска куача",		"ZWL": "Зимбабвийски долар"	},	scrollToMainContent: function(speed){		$('html, body').animate({			scrollTop: $('section').offset().top		}, speed);	},	calculateResult: function() {		KK.scrollToMainContent(700);		var finalResult = 0;		for(i=0; i<KK.calculatorCurrencyBoxIndex; i++){			var calcCurrencyBoxNumberValue = $("#calculatorCurrencyBoxValue" + (i+1)).val();			var calcCurrencyBoxSelector = $("#calculatorCurrencyBoxSelector" + (i+1)).val();			var calcCurrencyBoxResultSelector = $("#calculatorResultOption").val();			finalResult += fx.convert(calcCurrencyBoxNumberValue, {from: calcCurrencyBoxSelector, to: calcCurrencyBoxResultSelector});		}		if (isNaN(finalResult)) {			$("#resultValueField").css({"color": "red"});			$("#resultValueField").val("Въведи коректни стойности!");			if($("#dk_container_calculatorResultOption").css("display") !== "none"){				$("#dk_container_calculatorResultOption").fadeOut(function(){					$("#resultValueField").animate({"width": "270px"});				});				$("#resultValueField").effect("highlight", {"color": "red"}, 200);			} else{				$("#resultValueField").effect("highlight", {"color": "red"}, 200);			}		} else{			if($("#dk_container_calculatorResultOption").css("display") === "none") {				$("#resultValueField").animate({"color": "#3EC3FF"});				$("#resultValueField").animate({"width": "145px"}, function(){					$("#dk_container_calculatorResultOption").fadeIn();				});			}			$("#resultValueField").val(Math.round(finalResult*100)/100);			$("#resultValueField").effect("highlight", {"color": "#FFFF66"}, 200);			$('#resultNumber').animate({"color": "#C6C6C6"}, 150, function(){				$('#resultNumber').animate({"color": "#111"}, 500)			});		}	},	onlyNumbers: function(){		if(isNaN($("#calculatorCurrencyBoxValue1").val()-0)) {			return false;		}	},	loadCurrencyRatesInDiv: function(value) {		$("#currencyRates").fadeOut(600, function(){			//Remove any old html elements in the div:			$("#currencyRates").html("");			//Show new results in the div:			$("#currencyRates").append("<table id='currencyTable'>");			if(typeof(value) === "undefined"){				value = $('#selectFrom').val();			}			for (i in KK.currencyRatesObject) {				var result = fx.convert(1, {from: value, to: i}).toFixed(2);				$("#currencyTable").append("<tr><th style='text-align: right; font-weight: bold;'>" + result + "</th><td>" + i + "</td><td>" + KK.currencyRatesObject[i] + "</td></tr>");				//TODO: add to array			}			$("#currencyRates").append("</table>");			$("#currencyRates").show("slide", { direction: "up"}, 500);		});	},	loadCurrencyRatesInOptionBox: function() {		var countCurrency = 0;		//Load Every single Currency Rate in right OptionBox:		for (i in KK.currencyRatesObject) {			$('#selectFrom').append('<option value="' + i + '">' + i + '</option>');			$('#calculatorResultOption').append('<option value="' + i + '">' + i + '</option>');			countCurrency++;		}		$("#numberOfCurrency").html(countCurrency).animate({"font-size": "140%"});		//If you pick different option:		$('#selectFrom').dropkick({			change: function (value, label) {				KK.loadCurrencyRatesInDiv(value);				KK.scrollToMainContent(1000);			}		});		$('#calculatorResultOption').dropkick({			change: function (value, label) {				KK.calculateResult();			}		});		//Fire the results in the #currencyRates div:		KK.loadCurrencyRatesInDiv();	},	addOneCalculatorCurrencyBox: function(oneMoreBoxId, fillSelectorCurrencyId){		$("#calculatorCurrencyBoxContent").append('<div class="calculatorCurrencyBox" id="calculatorCurrencyBox' + oneMoreBoxId + '"><input id="' + oneMoreBoxId + '" type="text" name="currencyBox" style="float: left;" /><select id="' + fillSelectorCurrencyId + '"></select></div>');		for (i in KK.currencyRatesObject) {			$('#' + fillSelectorCurrencyId).append('<option value="' + i + '">' + i + '</option>');		}		$('#' + fillSelectorCurrencyId).val("USD");		$('#' + fillSelectorCurrencyId).dropkick({			change: function (value, label) {				KK.calculateResult();			}		});	},	calculatorCurrencyBoxIndex: 0,	setUpCurrencyBoxes: function() {		KK.addOneCalculatorCurrencyBox("calculatorCurrencyBoxValue1", "calculatorCurrencyBoxSelector1");		KK.calculatorCurrencyBoxIndex = 1;		$("#calculatorCurrencyBoxValue1").keyup(function(){			KK.onlyNumbers();			KK.calculateResult();		});		//Add one more on click:		var clickIndex = 1;		$("#calculatorPlusOne").click(function(){			if(clickIndex == 1) {				KK.addOneCalculatorCurrencyBox("calculatorCurrencyBoxValue2", "calculatorCurrencyBoxSelector2");				$("#calculatorCurrencyBoxValue2").keyup(function(){					KK.calculateResult();				});				clickIndex++;				KK.calculatorCurrencyBoxIndex++;			} else if (clickIndex == 2){				KK.addOneCalculatorCurrencyBox("calculatorCurrencyBoxValue3", "calculatorCurrencyBoxSelector3");				$("#calculatorCurrencyBoxValue3").keyup(function(){					KK.calculateResult();				});				clickIndex++;				KK.calculatorCurrencyBoxIndex++;			} else if (clickIndex == 3){				KK.addOneCalculatorCurrencyBox("calculatorCurrencyBoxValue4", "calculatorCurrencyBoxSelector4");				$("#calculatorCurrencyBoxValue4").keyup(function(){					KK.calculateResult();				});				clickIndex++;				KK.calculatorCurrencyBoxIndex++;			} else if (clickIndex == 4){				KK.addOneCalculatorCurrencyBox("calculatorCurrencyBoxValue5", "calculatorCurrencyBoxSelector5");				$("#calculatorCurrencyBoxValue5").keyup(function(){					KK.calculateResult();				});				KK.calculatorCurrencyBoxIndex++;				$("#calculatorPlusOne").fadeOut();			}			return false;		});		KK.loadCurrencyRatesInOptionBox();	},	loadExchangeRatesData: function(data) {		$.ajax({			url: 'http://openexchangerates.org/api/latest.json?app_id=31d99f88fd2c4b5bb43b22a0c398db73',			dataType:'jsonp',			success: function(data) {				if ( typeof fx !== "undefined" && fx.rates ) {					fx.rates = data.rates;					fx.base = data.base;					//Start the big loading of Currency Rates:					KK.setUpCurrencyBoxes();				} else {					// If not, apply to fxSetup global:					var fxSetup = {						rates : data.rates,						base : data.base					}				}			},			error: function() {				alert('Възникна проблем с извличането на емисията с обновени валутни курсове.');			}		});	}};$(document).ready(function () {	$(".footer img").click(function(){		alert("Външна връзка.");		return false;	});	KK.loadExchangeRatesData();});